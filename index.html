<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Se√±ales de Tr√°nsito</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>

    <header>
        <div class="container">
            <h1>üö¶ Se√±ales de Tr√°nsito</h1>
            <nav>
                <button id="btn-theme" class="nav-btn" title="Cambiar Tema">üåô</button>
                <button id="btn-study" class="nav-btn">üìñ Estudiar / Editar</button>
                <button id="btn-quiz" class="nav-btn active">üìù Examen</button>
                <button id="btn-export" class="nav-btn export-btn hidden">üíæ Descargar Datos</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <section id="study-section" class="hidden">
            <div class="info-banner">
                <p>üí° Hac√© clic en una se√±al para editar su nombre y categor√≠a. Los nombres que ingreses se van a usar
                    en el examen.</p>
                <div class="stats">
                    <span>Identificadas: <strong id="identified-count">0</strong>/226</span>
                </div>
            </div>
            <div class="signals-grid" id="signals-grid">
            </div>
        </section>

        <section id="quiz-section" class="active">
            <div id="quiz-start" class="quiz-container">
                <h2>Configuraci√≥n del Examen</h2>

                <div class="config-section">
                    <label>Modo de Juego:</label>
                    <div class="mode-selector">
                        <button class="mode-btn active" data-mode="standard">Est√°ndar (Solo Nombres)</button>
                        <button class="mode-btn" data-mode="expert">Experto (Nombre + Categor√≠a)</button>
                    </div>
                </div>

                <div class="config-section">
                    <label>Cantidad de Preguntas:</label>
                    <select id="config-count">
                        <option value="5">5 Preguntas</option>
                        <option value="10" selected>10 Preguntas</option>
                        <option value="20">20 Preguntas</option>
                        <option value="all">Todas</option>
                    </select>
                </div>

                <div class="config-section">
                    <label>Opciones:</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="config-timer" checked>
                        <span class="slider"></span>
                        <span class="toggle-label">L√≠mite de Tiempo (10s)</span>
                    </label>
                </div>

                <div class="config-section">
                    <label>Categor√≠as:</label>
                    <div class="category-filters" id="category-filters">
                        <!-- Checkboxes generated by JS -->
                    </div>
                </div>

                <button id="start-quiz-btn" class="primary-btn">Comenzar Examen</button>
            </div>

            <div id="quiz-game" class="quiz-container hidden">
                <div class="quiz-header">
                    <div class="progress-wrap">
                        <div class="progress-container">
                            <div id="quiz-progress-bar" class="progress-bar"></div>
                        </div>
                        <div id="timer-bar" class="timer-bar hidden"></div>
                    </div>
                    <div class="score-streak">
                        <span id="score">Puntos: 0</span>
                        <span id="streak">Racha: üî• 0</span>
                    </div>
                </div>
                <div class="quiz-card">
                    <img id="quiz-image" src="" alt="Se√±al de tr√°nsito">
                    <div class="options-grid" id="quiz-options">
                    </div>
                </div>
                <div id="feedback" class="feedback hidden"></div>
                <button id="next-question" class="secondary-btn hidden">Siguiente Se√±al</button>
            </div>

            <div id="quiz-results" class="quiz-container hidden">
                <h2>¬°Examen Completado! üéâ</h2>
                <div class="results-summary">
                    <div class="final-score">
                        <span id="final-score-val">0</span>
                        <span class="label">Puntos</span>
                    </div>
                    <div class="stars-container" id="stars-display">
                        <!-- ‚≠ê‚≠ê‚≠ê -->
                    </div>
                    <p id="results-message">¬°Buen trabajo!</p>
                </div>
                <div class="results-actions">
                    <button id="restart-quiz-btn" class="primary-btn">Jugar de Nuevo</button>
                    <button id="back-study-btn" class="secondary-btn">Volver a Estudiar</button>
                </div>
            </div>
        </section>
    </main>

    <div id="edit-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Editar Se√±al</h2>
            <div class="modal-body">
                <img id="modal-img" src="" alt="Se√±al a editar">
                <div class="form-group">
                    <label for="signal-name">Nombre de la Se√±al:</label>
                    <input type="text" id="signal-name" placeholder="Ej: Pare, Ceda el Paso...">
                </div>
                <div class="form-group">
                    <label for="signal-category">Categor√≠a:</label>
                    <select id="signal-category">
                        <option value="Reglamentaria">Reglamentaria (Roja/Circular)</option>
                        <option value="Preventiva">Preventiva (Amarilla/Rombo)</option>
                        <option value="Informativa">Informativa (Azul/Verde)</option>
                        <option value="Transitoria">Transitoria (Naranja)</option>
                        <option value="Demarcaci√≥n Horizontal">Demarcaci√≥n Horizontal</option>
                        <option value="Demarcaci√≥n Luminosa">Demarcaci√≥n Luminosa</option>
                    </select>
                </div>
                <button id="save-signal" class="primary-btn">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <footer>
        <p>Estudio de Se√±ales de Tr√°nsito Argentinas</p>
    </footer>

    <script src="signals.js"></script>
    <script src="app.js"></script>
</body>

</html>